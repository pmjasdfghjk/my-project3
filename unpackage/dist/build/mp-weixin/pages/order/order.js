"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js");if(!Array){(e.resolveComponent("counter")+e.resolveComponent("uni-popup"))()}Math||((()=>"../../components/counter/counter.js")+(()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js"))();const o={__name:"order",setup(o){const t=e.ref(),u=e.ref(),n=e.ref({}),r=e.computed((()=>({"待支付":"10","待服务":"20","已完成":"30","已取消":"40"}[n.value.trade_state])));e.onLoad((e=>{console.log(e),u.value=e,l(e)}));const s=getApp(),l=a=>{s.globalData.utils.request({url:"/order/detail",header:{token:e.index.getStorageSync("token")},data:a,success:e=>{n.value=e.data,console.log(n.value)}})},c=()=>{l(u)},v=()=>{t.value.open("center");const a=new e.UQRCode;a.data=n.value.code_url,a.size=150,a.make();var o=e.index.createCanvasContext("qrcode");a.canvasContext=o,a.drawCanvas()},i=()=>{e.index.switchTab({url:"../order/index"})},p=a=>{e.index.makePhoneCall({phoneNumber:"15907543388"})};return(o,u)=>e.e({a:a._imports_0$5,b:e.n("od-jd od-jd-"+r.value),c:10==r.value},10==r.value?{d:e.o(c),e:e.p({second:n.value._exp_time}),f:e.t(n.value.price),g:e.o(v)}:{},{h:20==r.value},20==r.value?e.e({i:0==n.value.service_state},(n.value.service_state,{}),{j:1==n.value.service_state},(n.value.service_state,{})):{},{k:30==r.value},(r.value,{}),{l:40==r.value},(r.value,{}),{m:20==r.value},20==r.value?{n:n.value._staff.avatar_url,o:e.t(n.value._staff.nickname),p:e.o(p),q:n.value._staff.mobile}:{},{r:a._imports_0$1,s:e.o(i),t:e.sr(t,"e972b44a-1",{k:"qrcodePopue"}),v:e.p({type:"center","is-mask-click":!1,"background-color":"#fff"})})}};wx.createPage(o);
